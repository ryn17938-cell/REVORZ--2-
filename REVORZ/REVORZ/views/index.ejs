 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Katalog Produk - Beranda</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Tailwind CSS CDN (for demonstration purposes) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/css/global.min.css">
    <!-- Page styles are pulled from /css/global.css -->
    <style>
        /* Shimmer skeleton for images */
        .img-placeholder { position: relative; overflow: hidden; background: #f3f4f6; display: block; }
        .img-placeholder .shimmer { position: absolute; inset: 0; background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.6) 50%, rgba(255,255,255,0) 100%); transform: translateX(-100%); animation: shimmer 1.2s infinite; }
        @keyframes shimmer { 100% { transform: translateX(100%); } }
        .real-img { display: block; width: 100%; height: 100%; object-fit: cover; }
        .real-img.fade-in { opacity: 0; transition: opacity 400ms ease-in; }
        .real-img.visible { opacity: 1; }

        /* Small CTA micro-interactions */
        .btn-primary { position: relative; overflow: hidden; }
        .ripple { position: absolute; border-radius: 9999px; transform: scale(0); background: rgba(255,255,255,0.4); animation: ripple 600ms linear; pointer-events: none; }
        @keyframes ripple { to { transform: scale(4); opacity: 0; } }
        .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(30,64,175,0.12); }
    </style>
</head>
<body class="font-sans bg-gray-100 text-gray-800 min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-white/80 backdrop-blur-md shadow-md py-4">
        <div class="container mx-auto flex justify-between items-center px-4">
            <!-- Logo -->
            <a href="/" class="flex items-center space-x-2">
                <img src="/image/Logo.png" alt="REVOZ Logo" class="logo h-14 w-auto">
                <span class="text-2xl font-bold text-blue-600">REVOZ</span>
            </a>

            <!-- Navigation -->
            <nav class="hidden md:flex space-x-6 ml-8">
                <a href="/" class="text-gray-600 hover:text-blue-600 transition duration-300">Beranda</a>
                <a href="/catalog" class="text-gray-600 hover:text-blue-600 transition duration-300">Katalog</a>
                <a href="/category" class="text-gray-600 hover:text-blue-600 transition duration-300">Kategori</a>
                <a href="/about" class="text-gray-600 hover:text-blue-600 transition duration-300">Tentang Kami</a>
                <a href="/contact" class="text-gray-600 hover:text-blue-600 transition duration-300">Kontak</a>
                <% if (role === 'admin') { %>
                    <a href="/admin/add-product" class="text-gray-600 hover:text-blue-600 transition duration-300">Tambah Produk</a>
                <% } %>
            </nav>

            <!-- Search Bar -->
            <div class="flex-1 flex justify-center px-8">
                <form action="/category" method="get" class="w-full max-w-lg">
                    <div class="relative">
                        <span class="absolute inset-y-0 left-0 pl-3 flex items-center">
                            <svg class="h-5 w-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                            </svg>
                        </span>
                        <input class="search-input w-full pl-10 pr-4 py-2 rounded-full text-gray-700 border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500" type="text" name="q" placeholder="Cari produk...">
                    </div>
                </form>
            </div>

            <!-- Utility Icons and Mobile Menu Toggle -->
            <div class="flex items-center space-x-4">
                <!-- <button class="text-gray-600 hover:text-blue-600">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                </button> -->
                <a href="/cart" class="relative text-gray-600 hover:text-blue-600">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 0a2 2 0 100 4 2 2 0 000-4z" />
                    </svg>
                    <span class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full px-1"><%= cartItemCount %></span>
                </a>
                <% if (isLoggedIn) { %>
                    <div class="flex items-center space-x-2">
                        <% if (profilePicture) { %>
                            <img src="<%= profilePicture %>" alt="Profile" class="w-8 h-8 rounded-full object-cover border-2 border-blue-500">
                        <% } else { %>
                            <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold text-sm">
                                <%= username.charAt(0).toUpperCase() %>
                            </div>
                        <% } %>
                        <a href="/profile" class="text-gray-600 hover:text-blue-600 transition duration-300">Halo, <%= username %></a>
                    </div>
                    <a href="/logout" class="text-gray-600 hover:text-blue-600 ml-4">Logout</a>
                <% } else { %>
                    <a href="/login" class="text-gray-600 hover:text-blue-600">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                        </svg>
                    </a>
                <% } %>
                <button id="mobile-menu-button" class="md:hidden text-gray-600 hover:text-blue-600">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="mobile-menu md:hidden flex-col items-center py-4 space-y-2 bg-white shadow-md">
        <a href="/" class="text-gray-600 hover:text-blue-600 transition duration-300">Beranda</a>
        <a href="/category" class="text-gray-600 hover:text-blue-600 transition duration-300">Kategori</a>
        <a href="/about" class="text-gray-600 hover:text-blue-600 transition duration-300">Tentang Kami</a>
    <a href="/contact" class="text-gray-600 hover:text-blue-600 transition duration-300">Kontak</a>
    </div>

    <!-- Hero Banner (two-column) -->
    <section class="hero-banner animate-fade-in-up">
        <div class="container hero-inner">
            <div class="hero-image">
                <img src="image/smartwatch.png" alt="Smart Watch" loading="eager">
            </div>
            <div class="hero-text">
                <h1 class="hero-title">Smart Watch Terdepan</h1>
                <p class="hero-subtitle">Tetap terhubung dan pantau kesehatan Anda dengan smartwatch canggih kami. Desain modern, fitur lengkap, dan performa tinggi untuk gaya hidup aktif Anda.</p>
                <div class="hero-cta-group">
                    <a href="/catalog" class="btn-outline">Beli Sekarang</a>
                    <a href="/product/1" class="btn-primary">Jelajahi Spesifikasi</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Products -->
    <section class="container mx-auto py-16 px-4 animate-fade-in-scale">
        <h2 class="text-4xl font-bold text-center mb-12 text-gray-900 animate-slide-in-right">Produk Unggulan</h2>
        <div id="products-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
                <% if (products && products.length) { %>
                <% products.forEach(function(p) { %>
                    <div class="product-card" role="group" aria-label="Produk <%= p.name %>">
                        <a href="/product/<%= p.id %>" class="block" aria-label="Lihat detail <%= p.name %>">
                            <div class="img-placeholder w-full h-48">
                                <div class="shimmer"></div>
                                <img loading="lazy" data-src="<%= p.image || '/image/katalog.png' %>" alt="<%= p.name %>" class="real-img fade-in" />
                            </div>
                        </a>
                        <div class="p-6">
                            <h3 class="text-xl font-semibold mb-2"><a href="/product/<%= p.id %>" class="hover:text-blue-600"><%= p.name %></a></h3>
                                                        <% 
                                let description = (p.description || '').replace(/<[^>]+>/g, '');
                                if (description.length > 100) {
                                    description = description.substring(0, 100) + '...';
                                }
                            %>
                            <p class="text-gray-700 mb-4"><%= description %></p>
                            <div class="flex justify-between items-center">
                                <span class="text-blue-600 font-bold text-lg">Rp <%= p.price ? p.price.toLocaleString('id-ID') : '0' %></span>
                                <a href="/product/<%= p.id %>" class="btn-primary text-sm" role="button" aria-pressed="false">Lihat Detail</a>
                            </div>
                        </div>
                    </div>
                <% }) %>
            <% } else { %>
                <div id="no-results" class="col-span-full text-center text-gray-500">
                    <p>Produk unggulan akan segera hadir. Silakan kembali lagi nanti.</p>
                </div>
            <% } %>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="bg-gradient-to-br from-gray-50 to-blue-50 py-20 animate-fade-in-up">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-4xl font-bold text-gray-900 mb-12 animate-slide-in-right">Apa Kata Pelanggan Kami?</h2>
            <% if (reviews && reviews.length > 0) { %>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <% reviews.forEach(function(review) { %>
                        <div class="bg-white p-8 rounded-lg shadow-md flex flex-col items-center text-center">
                            <% if (review.profile_picture) { %>
                                <img src="<%= review.profile_picture %>" alt="<%= review.username %>" class="w-20 h-20 rounded-full object-cover mb-4 border-4 border-blue-200">
                            <% } else { %>
                                <div class="w-20 h-20 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold text-2xl mb-4">
                                    <%= review.username.charAt(0).toUpperCase() %>
                                </div>
                            <% } %>
                            <div class="flex justify-center items-center text-yellow-400 mb-4">
                                <!-- Simple decorative stars -->
                                <svg class="w-5 h-5 transition-all duration-300" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.683-1.539 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.565-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.92 8.729c-.783-.57-.38-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"></path></svg>
                                <svg class="w-5 h-5 transition-all duration-300 ml-1" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.683-1.539 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.565-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.92 8.729c-.783-.57-.38-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"></path></svg>
                                <svg class="w-5 h-5 transition-all duration-300 ml-1" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.683-1.539 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.565-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.92 8.729c-.783-.57-.38-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"></path></svg>
                                <svg class="w-5 h-5 transition-all duration-300 ml-1" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.683-1.539 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.565-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.92 8.729c-.783-.57-.38-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"></path></svg>
                                <svg class="w-5 h-5 transition-all duration-300 ml-1" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.683-1.539 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.565-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.92 8.729c-.783-.57-.38-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"></path></svg>
                            </div>
                        <p class="text-gray-700 italic mb-4">"<%= review.review %>"</p>
                            <p class="font-semibold text-gray-800">- <%= review.username %></p>
                        </div>
                    <% }); %>
                </div>
            <% } else { %>
                <p class="text-gray-500">Jadilah yang pertama memberikan ulasan bintang 5!</p>
            <% } %>
        </div>
    </section>

    <!-- Why Choose Us Section -->
    <section class="bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 text-white py-20 mt-16 animate-fade-in-scale">
        <div class="container mx-auto text-center px-4">
            <h2 class="text-4xl font-bold mb-12 animate-slide-in-right">Mengapa Memilih Kami?</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="p-8 bg-white/10 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 hover:bg-white/20 transition-all duration-300 transform hover:-translate-y-2">
                    <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-6">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                    </div>
                    <h3 class="text-2xl font-semibold mb-4">Produk Berkualitas Tinggi</h3>
                    <p class="text-blue-100">Kami hanya menyediakan produk terbaik dengan kualitas terjamin dan teknologi terkini.</p>
                </div>
                <div class="p-8 bg-white/10 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 hover:bg-white/20 transition-all duration-300 transform hover:-translate-y-2">
                    <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-6">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path d="M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"></path><path d="M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 16H17a1 1 0 001-1V8a1 1 0 00-1-1h-3z"></path></svg>
                    </div>
                    <h3 class="text-2xl font-semibold mb-4">Pengiriman Cepat & Aman</h3>
                    <p class="text-blue-100">Pesanan Anda akan sampai dengan cepat dan aman di tangan Anda dengan jaminan penuh.</p>
                </div>
                <div class="p-8 bg-white/10 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 hover:bg-white/20 transition-all duration-300 transform hover:-translate-y-2">
                    <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-6">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path></svg>
                    </div>
                    <h3 class="text-2xl font-semibold mb-4">Layanan Pelanggan Terbaik</h3>
                    <p class="text-blue-100">Tim kami siap membantu Anda 24/7 dengan ramah, profesional, dan responsif.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="bg-gradient-to-r from-purple-600 to-blue-600 text-white py-16 animate-fade-in-up">
        <div class="container mx-auto text-center px-4">
            <h2 class="text-3xl font-bold mb-4">Berlangganan Newsletter Kami</h2>
            <p class="text-xl mb-8 text-purple-100">Dapatkan update terbaru tentang produk dan penawaran spesial</p>
            <div class="max-w-md mx-auto flex">
                <input type="email" placeholder="Masukkan email Anda" class="flex-1 px-4 py-3 rounded-l-full text-gray-800 focus:outline-none focus:ring-2 focus:ring-white">
                <button class="bg-white text-purple-600 px-6 py-3 rounded-r-full font-semibold hover:bg-gray-100 transition duration-300">Berlangganan</button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="site-footer bg-gradient-to-r from-gray-800 to-gray-900 text-white py-12 mt-0">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">REVOZ</h3>
                    <p class="text-gray-400">Toko online terpercaya untuk gadget dan elektronik terdepan.</p>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Produk</h4>
                    <ul class="space-y-2">
                        <li><a href="/catalog" class="text-gray-400 hover:text-white transition duration-300">Katalog</a></li>
                        <li><a href="/category" class="text-gray-400 hover:text-white transition duration-300">Kategori</a></li>
                        <li><a href="/about" class="text-gray-400 hover:text-white transition duration-300">Tentang Kami</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Dukungan</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition duration-300">FAQ</a></li>
                        <li><a href="/contact" class="text-gray-400 hover:text-white transition duration-300">Kontak</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition duration-300">Pengiriman</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Ikuti Kami</h4>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transform hover:scale-110 transition duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.779 1.648 4.998 4.902.021.337.033.676.033 1.014v3.098c0 .338-.012.676-.033 1.014-.219 3.253-1.746 4.753-4.998 4.902-1.266.058-1.646.07-4.85.07s-3.585-.012-4.85-.07c-3.254-.148-4.779-1.648-4.998-4.902-.021-.337-.033-.676-.033-1.014V8.517c0-.338.012.676.033-1.014.219-3.253 1.746-4.753 4.998-4.902 1.265-.058 1.646-.07 4.85-.07zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.019.335-.032.67-.032 1.007v3.093c0 .34.013.675.032 1.009.2 4.359 2.62 6.78 6.98 6.98 1.28.058 1.687.072 4.947.072s3.668-.014 4.948-.072c4.354-.2 6.782-2.618 6.979-6.98.019-.336.032-.67.032-1.008V8.513c0-.34-.013-.674-.032-1.009-.2-4.358-2.62-6.78-6.979-6.98-1.281-.058-1.687-.072-4.948-.072zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4s1.791-4 4-4 4 1.79 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transform hover:scale-110 transition duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.271 0-4.192 1.504-4.192 4.479v2.521z"/></svg>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transform hover:scale-110 transition duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07.163-4.06-.67-5.756-1.437 2.017 1.294 4.386 2.042 6.979 2.042 8.345 0 12.92-6.928 12.92-12.92 0-.197-.005-.392-.014-.586.94-.679 1.76-1.532 2.41-2.502z"/></svg>
                        </a>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center">
                <p>&copy; 2025 REVOZ. Semua Hak Dilindungi.</p>
                <div class="flex justify-center space-x-6 mt-4">
                    <a href="#" class="text-gray-400 hover:text-white transition duration-300">Kebijakan Privasi</a>
                    <a href="#" class="text-gray-400 hover:text-white transition duration-300">Syarat & Ketentuan</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button id="back-to-top" class="fixed bottom-8 right-8 bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700 transition duration-300 hidden">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
        </svg>
    </button>

    <script>
        // Client-side search for products on the home page
        (function(){
            const searchInput = document.getElementById('search');
            const productsGrid = document.getElementById('products-grid');
            const productCards = Array.from(productsGrid.children);
            const noResults = document.getElementById('no-results');

            function normalize(text){
                return (text||'').toString().toLowerCase();
            }

            function filter(q){
                if(!q){
                    productCards.forEach(c=>c.style.display='');
                    if(noResults) noResults.style.display = 'none';
                    return;
                }
                let visible = 0;
                productCards.forEach(card=>{
                    const title = card.querySelector('h3')?.innerText || '';
                    const desc = card.querySelector('p')?.innerText || '';
                    if(normalize(title).includes(q) || normalize(desc).includes(q)){
                        card.style.display=''; visible++;
                    } else {
                        card.style.display='none';
                    }
                });
                if(visible===0 && noResults) noResults.style.display='block';
                else if(noResults) noResults.style.display='none';
            }

            let timeout;
            searchInput && searchInput.addEventListener('input', function(e){
                const q = e.target.value.trim().toLowerCase();
                clearTimeout(timeout);
                timeout = setTimeout(()=>filter(q), 120);
            });
        })();
        document.getElementById('mobile-menu-button').onclick = function() {
            document.getElementById('mobile-menu').classList.toggle('active');
        };

        // Back to Top Button functionality
        const backToTopButton = document.getElementById('back-to-top');

        window.onscroll = function() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                backToTopButton.classList.remove('hidden');
            } else {
                backToTopButton.classList.add('hidden');
            }
        };

        backToTopButton.onclick = function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        };

        // Prefetch product details on hover (lightweight)
        (function(){
            const links = Array.from(document.querySelectorAll('.product-card a'));
            const prefetched = new Set();
            links.forEach(a => {
                a.addEventListener('pointerenter', () => {
                    const href = a.getAttribute('href');
                    if(!href || prefetched.has(href)) return;
                    // create link rel=prefetch
                    const l = document.createElement('link'); l.rel='prefetch'; l.href = href; document.head.appendChild(l);
                    prefetched.add(href);
                }, { passive: true });
            });
        })();

        // Lazy-load images with shimmer placeholder
        (function(){
            const imgs = Array.from(document.querySelectorAll('img.real-img'));
            if('IntersectionObserver' in window){
                const obs = new IntersectionObserver((entries, o)=>{
                    entries.forEach(e=>{
                        if(e.isIntersecting){
                            const img = e.target;
                            const src = img.dataset.src;
                            if(src){ img.src = src; img.addEventListener('load', ()=>{ img.classList.add('visible'); const sh = img.previousElementSibling; if(sh && sh.classList.contains('shimmer')) sh.remove(); }); }
                            o.unobserve(img);
                        }
                    });
                }, { rootMargin: '200px' });
                imgs.forEach(i=>obs.observe(i));
            } else {
                // Fallback: load all
                imgs.forEach(img=>{ img.src = img.dataset.src; img.addEventListener('load', ()=>{ img.classList.add('visible'); const sh = img.previousElementSibling; if(sh && sh.classList.contains('shimmer')) sh.remove(); }); });
            }
        })();

        // Ripple effect on .btn-primary
        (function(){
            document.querySelectorAll('.btn-primary').forEach(btn=>{
                btn.addEventListener('click', function(e){
                    const r = document.createElement('span');
                    r.className = 'ripple';
                    const rect = btn.getBoundingClientRect();
                    const size = Math.max(rect.width, rect.height);
                    r.style.width = r.style.height = size + 'px';
                    r.style.left = (e.clientX - rect.left - size/2) + 'px';
                    r.style.top = (e.clientY - rect.top - size/2) + 'px';
                    btn.appendChild(r);
                    setTimeout(()=> r.remove(), 600);
                });
            });
        })();
    </script>
</body>
</html>