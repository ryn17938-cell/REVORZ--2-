   <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Katalog Produk - Beranda</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Tailwind CSS CDN (for demonstration purposes) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/css/global.min.css">
    <!-- Page styles are pulled from /css/global.css -->
    <style>
        /* Shimmer skeleton for images */
        .img-placeholder { position: relative; overflow: hidden; background: #f3f4f6; display: block; }
        .img-placeholder .shimmer { position: absolute; inset: 0; background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.6) 50%, rgba(255,255,255,0) 100%); transform: translateX(-100%); animation: shimmer 1.2s infinite; }
        @keyframes shimmer { 100% { transform: translateX(100%); } }
        .real-img { display: block; width: 100%; height: 100%; object-fit: cover; }
        .real-img.fade-in { opacity: 0; transition: opacity 400ms ease-in; }
        .real-img.visible { opacity: 1; }

        /* Small CTA micro-interactions */
        .btn-primary { position: relative; overflow: hidden; }
        .ripple { position: absolute; border-radius: 9999px; transform: scale(0); background: rgba(255,255,255,0.4); animation: ripple 600ms linear; pointer-events: none; }
        @keyframes ripple { to { transform: scale(4); opacity: 0; } }
        .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(30,64,175,0.12); }
       
        /* Hero section specific styles */
        .btn-primary-hero {
            background: #ffffff;
            color: #4f46e5;
            font-weight: 700;
        }

        .btn-primary-hero:hover {
            background: #f3f4f6;
            color: #4338ca;
        }

        .btn-secondary-hero {
            background: transparent;
            color: #ffffff;
            border: 2px solid #ffffff;
            font-weight: 700;
        }

        .btn-secondary-hero:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
        }

        @keyframes fade-in-left {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes fade-in-right {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .animate-fade-in-left { animation: fade-in-left 1s ease-out forwards; }
        .animate-fade-in-right { animation: fade-in-right 1s ease-out forwards; }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-12px); }
        }
                .animate-float {
                    animation: float 4s ease-in-out infinite;
                }
        
                /* Testimonial Carousel Styles */
                .testimonial-carousel-container {
                    position: relative;
                }
                .testimonial-carousel {
                    display: flex;
                    overflow-x: hidden;
                    scroll-snap-type: x mandatory;
                    scroll-behavior: smooth;
                    -webkit-overflow-scrolling: touch; /* for smooth scrolling on iOS */
                }
                .testimonial-slide {
                    flex: 0 0 100%;
                    scroll-snap-align: start;
                    padding: 0 1rem;
                }
                @media (min-width: 768px) {
                    .testimonial-slide {
                        flex: 0 0 50%;
                    }
                }
                @media (min-width: 1024px) {
                    .testimonial-slide {
                        flex: 0 0 33.333333%;
                    }
                }
                .testimonial-card {
                    background: rgba(255, 255, 255, 0.2);
                    backdrop-filter: blur(10px);
                    border: 1px solid rgba(255, 255, 255, 0.3);
                    border-radius: 1.5rem; /* rounded-3xl */
                    transition: all 0.3s ease;
                }
                .testimonial-card:hover {
                    background: rgba(255, 255, 255, 0.3);
                    transform: translateY(-5px);
                }
                .carousel-btn {
                    position: absolute;
                    top: 50%;
                    transform: translateY(-50%);
                    background-color: rgba(255, 255, 255, 0.5);
                    border-radius: 9999px;
                    width: 3rem; /* w-12 */
                    height: 3rem; /* h-12 */
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    color: #1f2937; /* text-gray-800 */
                    transition: all 0.3s ease;
                    z-index: 10;
                }
                .carousel-btn:hover {
                    background-color: rgba(255, 255, 255, 0.8);
                    transform: translateY(-50%) scale(1.1);
                }
                .carousel-btn.prev {
                    left: -1.5rem; /* -left-6 */
                }
                .carousel-btn.next {
                    right: -1.5rem; /* -right-6 */
                }
        
            </style>
</head>
<body class="font-sans bg-gray-100 text-gray-800 min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-white/90 backdrop-blur-md shadow-lg py-4 sticky top-0 z-50">
        <div class="container mx-auto flex justify-between items-center px-4">
            <!-- Logo -->
            <a href="/" class="flex items-center space-x-2">
                <img src="/image/Logo.png" alt="REVOZ Logo" class="logo h-14 w-auto">
                <span class="text-2xl font-bold text-blue-600">REVOZ</span>
            </a>

            <!-- Navigation -->
            <nav class="hidden md:flex space-x-8 ml-8">
                <a href="/" class="text-blue-600 font-bold border-b-2 border-blue-600 transition-all duration-300 relative">
                    Beranda
                    <span class="absolute bottom-0 left-0 w-full h-0.5 bg-blue-600"></span>
                </a>
                <a href="/catalog" class="text-gray-700 hover:text-blue-600 transition-all duration-300 font-medium relative group">
                    Katalog
                    <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-blue-600 group-hover:w-full transition-all duration-300"></span>
                </a>
                <a href="/category" class="text-gray-700 hover:text-blue-600 transition-all duration-300 font-medium relative group">
                    Kategori
                    <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-blue-600 group-hover:w-full transition-all duration-300"></span>
                </a>
                <a href="/about" class="text-gray-700 hover:text-blue-600 transition-all duration-300 font-medium relative group">
                    Tentang Kami
                    <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-blue-600 group-hover:w-full transition-all duration-300"></span>
                </a>
                <a href="/contact" class="text-gray-700 hover:text-blue-600 transition-all duration-300 font-medium relative group">
                    Kontak
                    <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-blue-600 group-hover:w-full transition-all duration-300"></span>
                </a>
                <% if (role === 'admin') { %>
                    <a href="/admin/add-product" class="text-gray-700 hover:text-blue-600 transition-all duration-300 font-medium relative group">
                        Tambah Produk
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-blue-600 group-hover:w-full transition-all duration-300"></span>
                    </a>
                <% } %>
            </nav>

            <!-- Search Bar -->
            <div class="flex-1 flex justify-center px-8">
                <form action="/category" method="get" class="w-full max-w-lg">
                    <div class="relative">
                        <span class="absolute inset-y-0 left-0 pl-3 flex items-center">
                            <svg class="h-5 w-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                            </svg>
                        </span>
                        <input class="search-input w-full pl-10 pr-4 py-2 rounded-full text-gray-700 border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500" type="text" name="q" placeholder="Cari produk...">
                    </div>
                </form>
            </div>

            <!-- Utility Icons -->
            <div class="flex items-center space-x-6">
                <!-- Mobile menu toggle -->
                <button id="mobile-drawer-open" class="md:hidden inline-flex items-center justify-center p-2 rounded-lg bg-blue-50 text-blue-600 mr-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
                </button>
                <a href="/cart" class="relative text-gray-700 hover:text-blue-600 transition-all duration-300 transform hover:scale-110">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 0a2 2 0 100 4 2 2 0 000-4z" />
                    </svg>
                    <span class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full px-2 py-1 font-bold shadow-lg"><%= cartItemCount %></span>
                </a>
                <% if (isLoggedIn) { %>
                    <div class="flex items-center space-x-3">
                        <% if (profilePicture) { %>
                            <img src="<%= profilePicture %>" alt="Profile" class="w-9 h-9 rounded-full object-cover border-3 border-blue-500 shadow-lg transform hover:scale-110 transition-all duration-300">
                        <% } else { %>
                            <div class="w-9 h-9 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold text-sm shadow-lg transform hover:scale-110 transition-all duration-300">
                                <%= username.charAt(0).toUpperCase() %>
                            </div>
                        <% } %>
                        <a href="/profile" class="text-gray-700 hover:text-blue-600 font-semibold transition-all duration-300 transform hover:scale-105">Halo, <%= username %></a>
                    </div>
                    <a href="/logout" class="text-red-600 hover:text-red-700 font-semibold transition-all duration-300 transform hover:scale-105 bg-red-50 hover:bg-red-100 px-3 py-1 rounded-full">Logout</a>
                <% } else { %>
                    <a href="/login" class="btn-primary py-2 px-6 rounded-full transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl">
                        Masuk
                    </a>
                <% } %>
            </div>
        </div>
    </header>

    <!-- Mobile Drawer -->
    <div id="drawer-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden" onclick="closeMobileDrawer()"></div>
    <aside id="mobile-drawer" class="fixed top-0 right-0 w-64 h-full bg-white shadow-lg z-50 transform translate-x-full transition-transform duration-300 ease-in-out">
        <div class="p-4 border-b flex justify-between items-center">
            <h3 class="text-lg font-bold">Menu</h3>
            <button class="text-gray-600 hover:text-gray-800" onclick="closeMobileDrawer()">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
            </button>
        </div>
        <nav class="p-4 space-y-2">
            <a href="/" class="block text-gray-700 hover:text-blue-600 font-medium py-2">Beranda</a>
            <a href="/catalog" class="block text-gray-700 hover:text-blue-600 font-medium py-2">Katalog</a>
            <a href="/category" class="block text-gray-700 hover:text-blue-600 font-medium py-2">Kategori</a>
            <a href="/about" class="block text-gray-700 hover:text-blue-600 font-medium py-2">Tentang Kami</a>
            <a href="/contact" class="block text-gray-700 hover:text-blue-600 font-medium py-2">Kontak</a>
            <% if (role === 'admin') { %>
                <a href="/admin/add-product" class="block text-gray-700 hover:text-blue-600 font-medium py-2">Tambah Produk</a>
            <% } %>
            <% if (isLoggedIn) { %>
                <a href="/profile" class="block text-gray-700 hover:text-blue-600 font-medium py-2">Profil</a>
                <a href="/logout" class="block text-red-600 hover:text-red-700 font-medium py-2">Logout</a>
            <% } else { %>
                <a href="/login" class="block text-blue-600 hover:text-blue-700 font-medium py-2">Masuk</a>
            <% } %>
        </nav>
    </aside>

    <!-- Hero Banner (two-column) -->
    <section class="relative bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-20 md:py-32">
        <div class="container mx-auto px-4 flex flex-col md:flex-row items-center justify-between gap-12">
            <div class="md:w-1/2 text-center md:text-left animate-fade-in-left">
                <h1 class="text-4xl md:text-6xl font-extrabold leading-tight mb-4 drop-shadow-md">Smart Watch Terdepan</h1>
                <p class="text-lg md:text-xl mb-8 opacity-90 drop-shadow">Tetap terhubung dan pantau kesehatan Anda dengan smartwatch canggih kami. Desain modern, fitur lengkap, dan performa tinggi untuk gaya hidup aktif Anda.</p>
                <div class="flex flex-col sm:flex-row justify-center md:justify-start gap-4">
                    <a href="/catalog" class="btn-primary-hero text-lg px-8 py-3 rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300">Beli Sekarang</a>
                    <a href="/product/1" class="btn-secondary-hero text-lg px-8 py-3 rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300">Jelajahi Spesifikasi</a>
                </div>
            </div>
            <div class="md:w-1/2 animate-fade-in-right">
                <img src="image/smartwatch.png" alt="Smart Watch" class="w-full max-w-md mx-auto h-auto object-contain drop-shadow-2xl animate-float">
            </div>
        </div>
    </section>

    <!-- Featured Products -->
    <section class="container mx-auto py-16 px-4">
        <h2 class="text-4xl font-bold text-center mb-12 text-gray-900">Produk Unggulan</h2>
        <div id="products-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
            <% if (products && products.length) { %>
                <% products.forEach(function(p) { %>
                    <div class="product-card group bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-2xl hover:border-blue-400 transition-all duration-500 ease-in-out transform hover:-translate-y-2" 
                        role="group" 
                        aria-label="Produk <%= p.name %>"
                        <% if (p.jenis) { %>
                            data-images="<%= p.jenis %>"
                        <% } %>>
                        <a href="/product/<%= p.id %>" class="block overflow-hidden" aria-label="Lihat detail <%= p.name %>">
                            <div class="w-full h-64 bg-gray-100">
                                <img src="<%= p.image || '/image/katalog.png' %>" alt="<%= p.name %>" class="real-img w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" id="product-image-<%= p.id %>"/>
                            </div>
                        </a>
                        <div class="p-5">
                            <h3 class="text-lg font-bold text-gray-800 truncate mb-1"><a href="/product/<%= p.id %>" class="hover:text-blue-600 transition-colors"><%= p.name %></a></h3>
                            <% 
                                let description = (p.description || '').replace(/<[^>]+>/g, '');
                                if (description.length > 80) {
                                    description = description.substring(0, 80) + '...';
                                }
                            %>
                            <p class="text-gray-600 text-sm mb-4 h-10"><%= description %></p>
                            <div class="flex justify-between items-center pt-4 border-t border-gray-100">
                                <span class="text-blue-700 font-extrabold text-xl">Rp <%= p.price ? p.price.toLocaleString('id-ID') : '0' %></span>
                                <a href="/product/<%= p.id %>" class="btn-primary inline-flex items-center text-xs font-bold py-2 px-4 rounded-full">
                                    <span>Lihat Detail</span>
                                    <svg class="w-4 h-4 ml-1.5 transform transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
                                </a>
                            </div>
                        </div>
                    </div>
                <% }) %>
            <% } else { %>
                <div id="no-results" class="col-span-full text-center text-gray-500">
                    <p>Produk unggulan akan segera hadir. Silakan kembali lagi nanti.</p>
                </div>
            <% } %>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="bg-gradient-to-br from-gray-100 to-blue-100 py-20 overflow-hidden">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-4xl font-bold text-gray-900 mb-12">Apa Kata Pelanggan Kami?</h2>
            <% if (reviews && reviews.length > 0) { %>
                <div class="testimonial-carousel-container max-w-6xl mx-auto relative">
                    <div id="testimonial-carousel" class="testimonial-carousel">
                        <% reviews.forEach(function(review) { %>
                            <div class="testimonial-slide">
                                <div class="testimonial-card h-full p-8 flex flex-col items-center text-center text-gray-800">
                                    <% if (review.profile_picture) { %>
                                        <img src="<%= review.profile_picture %>" alt="<%= review.username %>" class="w-24 h-24 rounded-full object-cover mb-5 border-4 border-white/50 shadow-lg">
                                    <% } else { %>
                                        <div class="w-24 h-24 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold text-3xl mb-5 shadow-lg">
                                            <%= review.username.charAt(0).toUpperCase() %>
                                        </div>
                                    <% } %>
                                    <p class="text-lg italic font-medium mb-4 flex-grow">"<%= review.review %>"</p>
                                    <div class="flex justify-center items-center text-yellow-400 mb-4">
                                        <!-- Simple decorative stars -->
                                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.683-1.539 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.565-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.92 8.729c-.783-.57-.38-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-6 h-6 ml-1" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.683-1.539 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.565-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.92 8.729c-.783-.57-.38-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-6 h-6 ml-1" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.683-1.539 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.565-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.92 8.729c-.783-.57-.38-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-6 h-6 ml-1" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.683-1.539 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.565-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.92 8.729c-.783-.57-.38-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-6 h-6 ml-1" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.683-1.539 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.565-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.92 8.729c-.783-.57-.38-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"></path></svg>
                                    </div>
                                    <p class="font-bold text-gray-900 text-lg">- <%= review.username %></p>
                                </div>
                            </div>
                        <% }); %>
                    </div>
                    <!-- Carousel Navigation -->
                    <button id="testimonial-prev" class="carousel-btn prev hidden md:flex">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                    </button>
                    <button id="testimonial-next" class="carousel-btn next hidden md:flex">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                    </button>
                </div>
            <% } else { %>
                <p class="text-gray-500">Jadilah yang pertama memberikan ulasan bintang 5!</p>
            <% } %>
        </div>
    </section>

    <!-- Why Choose Us Section -->
    <section class="bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 text-white py-20 mt-16">
        <div class="container mx-auto text-center px-4">
            <h2 class="text-4xl font-bold mb-12">Mengapa Memilih Kami?</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="p-8 bg-white/10 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 hover:bg-white/20 transition-all duration-300 transform hover:-translate-y-2">
                    <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-6">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                    </div>
                    <h3 class="text-2xl font-semibold mb-4">Produk Berkualitas Tinggi</h3>
                    <p class="text-blue-100">Kami hanya menyediakan produk terbaik dengan kualitas terjamin dan teknologi terkini.</p>
                </div>
                <div class="p-8 bg-white/10 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 hover:bg-white/20 transition-all duration-300 transform hover:-translate-y-2">
                    <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-6">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path d="M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"></path><path d="M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 16H17a1 1 0 001-1V8a1 1 0 00-1-1h-3z"></path></svg>
                    </div>
                    <h3 class="text-2xl font-semibold mb-4">Pengiriman Cepat & Aman</h3>
                    <p class="text-blue-100">Pesanan Anda akan sampai dengan cepat dan aman di tangan Anda dengan jaminan penuh.</p>
                </div>
                <div class="p-8 bg-white/10 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 hover:bg-white/20 transition-all duration-300 transform hover:-translate-y-2">
                    <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-6">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path></svg>
                    </div>
                    <h3 class="text-2xl font-semibold mb-4">Layanan Pelanggan Terbaik</h3>
                    <p class="text-blue-100">Tim kami siap membantu Anda 24/7 dengan ramah, profesional, dan responsif.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="bg-gradient-to-r from-purple-600 to-blue-600 text-white py-16">
        <div class="container mx-auto text-center px-4">
            <h2 class="text-3xl font-bold mb-4">Berlangganan Newsletter Kami</h2>
            <p class="text-xl mb-8 text-purple-100">Dapatkan update terbaru tentang produk dan penawaran spesial</p>
            <div class="max-w-md mx-auto flex">
                <input type="email" placeholder="Masukkan email Anda" class="flex-1 px-4 py-3 rounded-l-full text-gray-800 focus:outline-none focus:ring-2 focus:ring-white">
                <button class="bg-white text-purple-600 px-6 py-3 rounded-r-full font-semibold hover:bg-gray-100 transition duration-300">Berlangganan</button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="site-footer bg-gradient-to-r from-gray-800 to-gray-900 text-white py-12 mt-0">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">REVOZ</h3>
                    <p class="text-gray-400">Toko online terpercaya untuk gadget dan elektronik terdepan.</p>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Produk</h4>
                    <ul class="space-y-2">
                        <li><a href="/catalog" class="text-gray-400 hover:text-white transition duration-300">Katalog</a></li>
                        <li><a href="/category" class="text-gray-400 hover:text-white transition duration-300">Kategori</a></li>
                        <li><a href="/about" class="text-gray-400 hover:text-white transition duration-300">Tentang Kami</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Dukungan</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition duration-300">FAQ</a></li>
                        <li><a href="/contact" class="text-gray-400 hover:text-white transition duration-300">Kontak</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition duration-300">Pengiriman</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Ikuti Kami</h4>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transform hover:scale-110 transition duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.779 1.648 4.998 4.902.021.337.033.676.033 1.014v3.098c0 .338-.012.676-.033 1.014-.219 3.253-1.746 4.753-4.998 4.902-1.266.058-1.646.07-4.85.07s-3.585-.012-4.85-.07c-3.254-.148-4.779-1.648-4.998-4.902-.021-.337-.033-.676-.033-1.014V8.517c0-.338.012.676.033-1.014.219-3.253 1.746-4.753 4.998-4.902 1.265-.058 1.646-.07 4.85-.07zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.019.335-.032.67-.032 1.007v3.093c0 .34.013.675.032 1.009.2 4.359 2.62 6.78 6.98 6.98 1.28.058 1.687.072 4.947.072s3.668-.014 4.948-.072c4.354-.2 6.782-2.618 6.979-6.98.019-.336.032-.67.032-1.008V8.513c0-.34-.013-.674-.032-1.009-.2-4.358-2.62-6.78-6.979-6.98-1.281-.058-1.687-.072-4.948-.072zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4s1.791-4 4-4 4 1.79 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transform hover:scale-110 transition duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.271 0-4.192 1.504-4.192 4.479v2.521z"/></svg>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transform hover:scale-110 transition duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07.163-4.06-.67-5.756-1.437 2.017 1.294 4.386 2.042 6.979 2.042 8.345 0 12.92-6.928 12.92-12.92 0-.197-.005-.392-.014-.586.94-.679 1.76-1.532 2.41-2.502z"/></svg>
                        </a>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center">
                <p>&copy; 2025 REVOZ. Semua Hak Dilindungi.</p>
                <div class="flex justify-center space-x-6 mt-4">
                    <a href="#" class="text-gray-400 hover:text-white transition duration-300">Kebijakan Privasi</a>
                    <a href="#" class="text-gray-400 hover:text-white transition duration-300">Syarat & Ketentuan</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button id="back-to-top" class="fixed bottom-8 right-8 bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700 transition duration-300 hidden">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
        </svg>
    </button>

    <script>
        // Client-side search for products on the home page
        (function(){
            const searchInput = document.getElementById('search');
            const productsGrid = document.getElementById('products-grid');
            const productCards = Array.from(productsGrid.children);
            const noResults = document.getElementById('no-results');

            function normalize(text){
                return (text||'').toString().toLowerCase();
            }

            function filter(q){
                if(!q){
                    productCards.forEach(c=>c.style.display='');
                    if(noResults) noResults.style.display = 'none';
                    return;
                }
                let visible = 0;
                productCards.forEach(card=>{
                    const title = card.querySelector('h3')?.innerText || '';
                    const desc = card.querySelector('p')?.innerText || '';
                    if(normalize(title).includes(q) || normalize(desc).includes(q)){
                        card.style.display=''; visible++;
                    } else {
                        card.style.display='none';
                    }
                });
                if(visible===0 && noResults) noResults.style.display='block';
                else if(noResults) noResults.style.display='none';
            }

            let timeout;
            searchInput && searchInput.addEventListener('input', function(e){
                const q = e.target.value.trim().toLowerCase();
                clearTimeout(timeout);
                timeout = setTimeout(()=>filter(q), 120);
            });
        })();
        document.getElementById('mobile-menu-button').onclick = function() {
            document.getElementById('mobile-menu').classList.toggle('active');
        };

        // Back to Top Button functionality
        const backToTopButton = document.getElementById('back-to-top');

        window.onscroll = function() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                backToTopButton.classList.remove('hidden');
            } else {
                backToTopButton.classList.add('hidden');
            }
        };

        backToTopButton.onclick = function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        };

        // Prefetch product details on hover (lightweight)
        (function(){
            const links = Array.from(document.querySelectorAll('.product-card a'));
            const prefetched = new Set();
            links.forEach(a => {
                a.addEventListener('pointerenter', () => {
                    const href = a.getAttribute('href');
                    if(!href || prefetched.has(href)) return;
                    // create link rel=prefetch
                    const l = document.createElement('link'); l.rel='prefetch'; l.href = href; document.head.appendChild(l);
                    prefetched.add(href);
                }, { passive: true });
            });
        })();

        // Lazy-load images with shimmer placeholder
        (function(){
            const imgs = Array.from(document.querySelectorAll('img.real-img'));
            if('IntersectionObserver' in window){
                const obs = new IntersectionObserver((entries, o)=>{
                    entries.forEach(e=>{
                        if(e.isIntersecting){
                            const img = e.target;
                            const src = img.dataset.src;
                            if(src){ img.src = src; img.addEventListener('load', ()=>{ img.classList.add('visible'); const sh = img.previousElementSibling; if(sh && sh.classList.contains('shimmer')) sh.remove(); }); }
                            o.unobserve(img);
                        }
                    });
                }, { rootMargin: '200px' });
                imgs.forEach(i=>obs.observe(i));
            } else {
                // Fallback: load all
                imgs.forEach(img=>{ img.src = img.dataset.src; img.addEventListener('load', ()=>{ img.classList.add('visible'); const sh = img.previousElementSibling; if(sh && sh.classList.contains('shimmer')) sh.remove(); }); });
            }
        })();

        // Ripple effect on .btn-primary
        (function(){
            document.querySelectorAll('.btn-primary').forEach(btn=>{
                btn.addEventListener('click', function(e){
                    const r = document.createElement('span');
                    r.className = 'ripple';
                    const rect = btn.getBoundingClientRect();
                    const size = Math.max(rect.width, rect.height);
                    r.style.width = r.style.height = size + 'px';
                    r.style.left = (e.clientX - rect.left - size/2) + 'px';
                    r.style.top = (e.clientY - rect.top - size/2) + 'px';
                    btn.appendChild(r);
                    setTimeout(()=> r.remove(), 600);
                });
            });
        })();

        // Add to cart functionality for homepage featured products
        document.querySelectorAll('.add-to-cart').forEach(btn => {
            btn.addEventListener('click', async () => {
                if (!isLoggedIn) {
                    window.location.href = '/login';
                    return;
                }
                const id = btn.dataset.productId;
                const warnaString = btn.dataset.warna;
                const ukuranString = btn.dataset.ukuran;

                const cartItem = {
                    product_id: id,
                    quantity: 1
                };

                if (warnaString) {
                    cartItem.warna = warnaString;
                }
                if (ukuranString) {
                    cartItem.ukuran = ukuranString;
                }

                const r = await postJson('/api/cart/add', cartItem);

                if (r && r.ok) {
                    showPopup('Produk ditambahkan ke keranjang');
                } else {
                    showPopup(r.message || 'Gagal menambahkan ke keranjang', false);
                }
            });
        });

        // Testimonial Carousel functionality
        (function() {
            const carousel = document.getElementById('testimonial-carousel');
            const prevBtn = document.getElementById('testimonial-prev');
            const nextBtn = document.getElementById('testimonial-next');

            if (!carousel || !prevBtn || !nextBtn) return;

            const scrollStep = () => {
                const slide = carousel.querySelector('.testimonial-slide');
                return slide ? slide.offsetWidth : 0;
            };

            nextBtn.addEventListener('click', () => {
                carousel.scrollBy({ left: scrollStep(), behavior: 'smooth' });
            });

            prevBtn.addEventListener('click', () => {
                carousel.scrollBy({ left: -scrollStep(), behavior: 'smooth' });
            });
        })();

        // Mobile Drawer functionality
        const mobileDrawerOpenBtn = document.getElementById('mobile-drawer-open');
        const mobileDrawerCloseBtn = document.querySelector('#mobile-drawer button');
        const mobileDrawer = document.getElementById('mobile-drawer');
        const drawerOverlay = document.getElementById('drawer-overlay');

        function openMobileDrawer() {
            mobileDrawer.classList.remove('translate-x-full');
            drawerOverlay.classList.remove('hidden');
        }

        function closeMobileDrawer() {
            mobileDrawer.classList.add('translate-x-full');
            drawerOverlay.classList.add('hidden');
        }

        mobileDrawerOpenBtn?.addEventListener('click', openMobileDrawer);
        mobileDrawerCloseBtn?.addEventListener('click', closeMobileDrawer);
        drawerOverlay?.addEventListener('click', closeMobileDrawer);

        // Close drawer on ESC key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !mobileDrawer.classList.contains('translate-x-full')) {
                closeMobileDrawer();
            }
        });

        // Automatic slideshow for featured products
        function startImageSlideshow() {
            const productCards = document.querySelectorAll('.product-card[data-images]');

            productCards.forEach(card => {
                const productImage = card.querySelector('.real-img');
                const imageList = card.dataset.images;
                
                if (!productImage || !imageList) return;

                const images = imageList.split(',').map(img => img.trim()).filter(img => img);
                if (images.length <= 1) return;

                let currentIndex = 0;
                setInterval(() => {
                    currentIndex = (currentIndex + 1) % images.length;
                    productImage.src = images[currentIndex];
                }, 2000); // Change image every 2 seconds
            });
        }
        startImageSlideshow();
    </script>
</body>
</html>